# Дипломный проект — автоматизация тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка   #

----------

## План автоматизации  
 
## *Тестирование функции оплаты тура по карте*: 
###  1. Оплата тура картой со статусом "APPROVED"
    1.1 Ввести в поле "Номер Карты" значение "4444 4444 4444 4441";
    1.2 Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    1.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма отправлена, на экране появляется уведомление "Успешно! Операция одобрена банком". В БД внесена запись "APPROVED"


###  2. Оплата тура картой со статусом "DECLINED"
    2.1 Ввести в поле "Номер Карты" значение "4444 4444 4444 4442";
    2.2 Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    2.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма отправлена, на экране появляется уведомление "Ошибка! Банк отказал в проведении операции". В БД внесена запись "DECLINED" 


###  3. Оплата тура валидной сгенерированной картой, с текущими значениями в полях "Месяц" и "Год" #
    3.1 Ввести в поле "Номер Карты" сгенерированное 16ти значное значение;
    3.2 Поля "Месяц", "Год" заполнить текущими значениями; 
    3.3 "Владелец", "CVC/CVV" заполнить валидными значениями;
    3.4 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма отправлена, на экране появляется уведомление "Ошибка! Банк отказал в проведении операции". В БД изменений не внесено.  
  

## *Тестирование поля ввода номера карты:*   
###  1. Оплата тура картой c 15ти значным номером
    1.1 Ввести в поле "Номер Карты" сгенерированное 15ти значное число;
    1.2 Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    1.3 Нажать кнопку "Продолжить" внизу данной формы. 

**Ожидаемый результат**: форма не отправлена, поле "Номер Карты" подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  2. Оплата тура картой c 17ти значным номером
    2.1 Ввести в поле "Номер Карты" сгенерированное 17ти значное число;
    2.2 Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    2.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма отправлена, поле "Номер Карты" ограничено на ввод только 16ти значного числа, на экране появляется уведомление "Ошибка! Банк отказал в проведении операции". В БД изменений не внесено.   

###  3. Оплата тура картой c пустым полем ввода "Номер Карты"
    3.1 Поле ввода "Номер Карты" оставить пустым;
    3.2 Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    3.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Номер Карты" подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  4. Оплата тура картой c 16ю нулями
    4.1 Ввести в поле "Номер Карты" 16ть нулей;
    4.2 Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    4.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Номер Карты" подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  5. Оплата тура картой c невалидным номером
    5.1 Ввести в поле "Номер Карты" ввести "1234!b@a1234%:?*";
    5.2 Поля "Месяц", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    5.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Номер Карты" позволяет вводить только цифры, подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

## *Тестирование поля ввода месяца карты:*
###  1. Оплата тура картой, содержащей "короткий" месяц
    1.1 Ввести в поле "Месяц" число "1";
    1.2 Поля "Номер Карты", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    1.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Месяц" подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  2. Оплата тура картой, содержащей пустой месяц
    2.1 Поле "Месяц" оставить пустым;
    2.2 Поля "Номер Карты", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    2.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Месяц" подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  3. Оплата тура картой, содержащей нулевой "00" месяц
    3.1 Ввести в поле "Месяц" число "00";
    3.2 Поля "Номер Карты", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    3.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Месяц" подсвечено красным и появляется подсказка "Неверно указан срок действия карты". В БД изменений не внесено.  

###  4. Оплата тура картой, содержащей несуществующий месяц
    4.1 Ввести в поле "Месяц" число "13";
    4.2 Поля "Номер Карты", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    4.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Месяц" подсвечено красным и появляется подсказка "Неверно указан срок действия карты". В БД изменений не внесено.  

###  5. Оплата тура картой, содержащей невалидный месяц
    5.1 Ввести в поле "Месяц" число "!q";
    5.2 Поля "Номер Карты", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    5.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Месяц" позволяет вводить только цифры, подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  6. Оплата тура картой, содержащей "длинный" месяц
    6.1 Ввести в поле "Месяц" число "111";
    6.2 Поля "Номер Карты", "Год", "Владелец", "CVC/CVV" заполнить валидными значениями;
    6.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма отправлена, поле "Месяц" ограничено на ввод только двузначного числа, последующие не печатаются, на экране появляется уведомление "Ошибка! Банк отказал в проведении операции". В БД изменений не внесено.  

## *Тестирование поля ввода года карты:*
###  1. Оплата тура картой, содержащей "короткий" год
    1.1 Ввести в поле "Год" число "1";
    1.2 Поля "Номер Карты", "Месяц", "Владелец", "CVC/CVV" заполнить валидными значениями;
    1.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Год" подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  2. Оплата тура картой, содержащей "пустой" год
    2.1 Поле ввода "Год" оставить пустым;
    2.2 Поля "Номер Карты", "Месяц", "Владелец", "CVC/CVV" заполнить валидными значениями;
    2.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Год" подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  3. Оплата тура картой, содержащей нулевой "00" год
    3.1 Ввести в поле "Год" число "00";
    3.2 Поля "Номер Карты", "Месяц", "Владелец", "CVC/CVV" заполнить валидными значениями;
    3.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Год" подсвечено красным и появляется подсказка "Истёк срок действия карты". В БД изменений не внесено.  

###  4. Оплата тура картой, содержащей предыдущий год
    4.1 Ввести в поле "Год" число "23";
    4.2 Поля "Номер Карты", "Месяц", "Владелец", "CVC/CVV" заполнить валидными значениями;
    4.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Год" подсвечено красным и появляется подсказка "Истёк срок действия карты". В БД изменений не внесено.  

###  5. Оплата тура картой, содержащей невалидный год
    5.1 Ввести в поле "Год" значение "!q";
    5.2 Поля "Номер Карты", "Месяц", "Владелец", "CVC/CVV" заполнить валидными значениями;
    5.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Год" позволяет вводить только цифры, подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  6. Оплата тура картой, содержащей "полный" год
    6.1 Ввести в поле "Год" значение "2025";
    6.2 Поля "Номер Карты", "Месяц", "Владелец", "CVC/CVV" заполнить валидными значениями;
    6.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Год" ограничено на ввод только двузначного числа, последующие не печатаются, подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

## *Тестирование поля ввода Владелец карты:*
###  1. Оплата тура картой, содержащей имя владельца на латинице
    1.1 Ввести в поле "Владелец" сгенерированное значение имени латинскими буквами;
    1.2 Поля "Номер Карты", "Месяц", "Год", "CVC/CVV" заполнить валидными значениями;
    1.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Владелец" , подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.   

###  2. Оплата тура картой, содержащей фамилию владельца на латинице
    2.1 Ввести в поле "Владелец" сгенерированное значение фамилии латинскими буквами;
    2.2 Поля "Номер Карты", "Месяц", "Год", "CVC/CVV" заполнить валидными значениями;
    2.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Владелец" , подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено. 

###  3. Оплата тура картой, содержащей имя владельца на русском
    3.1 Ввести в поле "Владелец" сгенерированное значение имени русскими буквами;
    3.2 Поля "Номер Карты", "Месяц", "Год", "CVC/CVV" заполнить валидными значениями;
    3.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Владелец" может быть заполнено только латинскими буквами, подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.   

###  4. Оплата тура картой, содержащей фамилию владельца на русском
    4.1 Ввести в поле "Владелец" сгенерированное значение фамилии русскими буквами;
    4.2 Поля "Номер Карты", "Месяц", "Год", "CVC/CVV" заполнить валидными значениями;
    4.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Владелец" может быть заполнено только латинскими буквами, подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  5. Оплата тура картой, содержащей "пустое" поле владельца
    5.1 Поле "Владелец" оставить пустым;
    5.2 Поля "Номер Карты", "Месяц", "Год", "CVC/CVV" заполнить валидными значениями;
    5.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Владелец" , подсвечено красным и появляется подсказка "Поле обязательно для заполнения". В БД изменений не внесено.  

###  6. Оплата тура картой, содержащей невалидное значение поле владельца
    6.1 Ввести в поле "Владелец" значение "T@12n3M";
    6.2 Поля "Номер Карты", "Месяц", "Год", "CVC/CVV" заполнить валидными значениями;
    6.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "Владелец" может быть заполнено только латинскими буквами, подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

## *Тестирование поля ввода CVC/CVV карты:*
###  1. Оплата тура картой, содержащей одну цифру в поле CVC/CVV
    1.1 Ввести в поле "CVC/CVV" значение "1";
    1.2 Поля "Номер Карты", "Месяц", "Год", "Владелец" заполнить валидными значениями;
    1.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "CVC/CVV", подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.   

###  2. Оплата тура картой, содержащей две цифры в поле CVC/CVV
    2.1 Ввести в поле "CVC/CVV" значение "11";
    2.2 Поля "Номер Карты", "Месяц", "Год", "Владелец" заполнить валидными значениями;
    2.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "CVC/CVV", подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  3. Оплата тура картой, содержащей "пустое" поле CVC/CVV
    3.1 Поле "CVC/CVV" оставить пустым;
    3.2 Поля "Номер Карты", "Месяц", "Год", "Владелец" заполнить валидными значениями;
    3.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "CVC/CVV", подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  4. Оплата тура картой, содержащей три нуля "000" в поле CVC/CVV
    4.1 Ввести в поле "CVC/CVV" значение "000";
    4.2 Поля "Номер Карты", "Месяц", "Год", "Владелец" заполнить валидными значениями;
    4.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "CVC/CVV", подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  

###  5. Оплата тура картой, содержащей невалидное значение в поле CVC/CVV
    5.1 Ввести в поле "CVC/CVV" значение "!Qq";
    5.2 Поля "Номер Карты", "Месяц", "Год", "Владелец" заполнить валидными значениями;
    5.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма не отправлена, поле "CVC/CVV" может принимать только числовые значения, подсвечено красным и появляется подсказка "Неверный формат". В БД изменений не внесено.  


###  6. Оплата тура картой, содержащей "длинное" значение в поле CVC/CVV
    6.1 Ввести в поле "CVC/CVV" значение "1234";
    6.2 Поля "Номер Карты", "Месяц", "Год", "Владелец" заполнить валидными значениями;
    6.3 Нажать кнопку "Продолжить" внизу данной формы.

**Ожидаемый результат**: форма отправлена, поле "CVC/CVV" может принимать только трехзначные числовые значения, на экране появляется уведомление "Ошибка! Банк отказал в проведении операции". В БД изменений не внесено.  

### *Примечание:* 
Вышеприведенный тестовый сценарий используется как для кнопки *"Купить"*, так и для кнопки *"Купить в кредит"*. В качестве валидных данных для заполнения полей, использовать следующие значения:  
**Номер карты:** 16ти значное число (используя цифры от 0 до 9);    
**Месяц:** 2х значное число (текущий месяц);  
**Год:** 2х значное число (текущий год);     
**Владелец:** латинские буквы;  
**CVC/CVV:** 3х значное число;     


## Перечень используемых инструментов
1. ***Java 11***- широко используемый язык программирования, применяемый для написания кода для различных платформ (ПК, мобильные устройства);
2. ***Gradle***- это инструмент для автоматизации сборки (известен своей гибкостью, применяется в крупных проектах);
3. ***Selenide***- это инструмент, используемый для автоматизированного тестирования (обеспечивает стабильность тестов, имеет удобные методы);
4. ***JUnit5***- это фреймворк для языка программирования Java (предназначенный для автоматического тестирования программ );
5. ***GIT***- консольная программа, инструмент для внесения и отслеживания изменений в файлах (наиболее распространённая);
6. ***GitHub***- это  хостинг, позволяющий хранить и изменять проекты (один из самых популярных);
7. ***Docker***- контейнеризатор приложений (наиболее распространен, удобная система поставки пред настроенных контейнеров, открытая инфраструктура их распространения);
8. ***JaCoCo*** - плагин, использующий метрику, которая показывает процентное соотношение покрытие кода автотестами (популярный, наглядный);
9. ***Allure*** — фреймворк, предназначенный для создания визуально наглядной картины отчета о выполнении тестов (наиболее распространен);
10. ***Faker*** - библиотека, позволяющая генерировать случайные данные (тестирование в широком диапазоне тестовых данных, не нужно выдумывать).  

## Перечень и описание возможных рисков при автоматизации  
1. Отсутствует спецификация на работу данного приложения;
2. Внесение изменений в верстку приведет к неработоспособности автотестов;
3. Отсутствие тестирования безопасности;
4. Сложности поиска по CSS-селекторам (из-за отсутствия тегов "test-id");
6. Сложности и дополнительное время для настройки окружения для запуска SUT.  

## Интервальная оценка с учетом рисков
1. Настройка тестового окружения: 10;
2. Подготовка тестовых сценариев для автоматизации: 4;
3. Написание кода с автотестами, включая прогон: 30;
4. Заведение дефектов по р-там прогона: 5;
5. Подготовка конечного отчета: 6  
***Итого:*** приблизительное время 55ч  

## План сдачи работы  
1. Утверждение данного плана куратором- до 18/02/24;
2. Написание кода с автотестами- до 03/03/24;
3. Подготовка конечного отчета- до 10/03/24.      

       